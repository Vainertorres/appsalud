{% extends 'base/basebdua.html' %}

{% load static %}

{% block head_list %}
   <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/2.0.0/css/buttons.dataTables.min.css">

{% endblock%}

{% block page_content %}
	<div class="card shadow mb-4">
       <!-- Card Header - Dropdown -->
       <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
       <h6 class="m-0 font-weight-bold text-primary">{{titulo}}</h6>
  </div>   
                
     <!-- Card Body -->
    <div class="card-body"> 
      <div class="row">
        <div class="col-lg-12">
          <div class="form-group">
           <label>Validar régimen contributivo por:</label>
           <form action="" method="POST">
             {% csrf_token %}
             <div class="row">
             <div class="form-group col-3">
                {%if opcion %}
                  {% if opcion == 'id' %}
                  <input type="radio" id="ident" name="rbtnvalidar" value="id" checked>
                  {% else %}
                  <input type="radio" id="ident" name="rbtnvalidar" value="id">
                  {% endif %}
                 {% else %} 
                  <input type="radio" id="ident" name="rbtnvalidar" value="id" checked>
                 {% endif %}

                  <label for="id">Identificación</label><br>
              </div>
              <div class="form-group col-4">
                {% if opcion == 'name1' %}
                  <input type="radio" id="name1ape1fn" name="rbtnvalidar" value="name1" checked>
                {% else %}
                  <input type="radio" id="name1ape1fn" name="rbtnvalidar" value="name1">
                {% endif %}  

                  <label for="css">Nombre1 + Apellido1 + Fecha de nacimiento</label><br>
              </div>
              <div class="form-group col-5">
                {% if opcion == 'name2' %}
                  <input type="radio" id="ape1ape2nom2fn" name="rbtnvalidar" value="name2" checked>
                {% else %}
                  <input type="radio" id="ape1ape2nom2fn" name="rbtnvalidar" value="name2">
                {% endif %}

                  <label for="javascript">Nombre2 + Apellido1 + apellido2 + Fecha de nacimiento</label>
                }
              </div>   
             </div>
                
              <div class="dropdown-divider"></div>
              <button class="btn btn-primary" id="crearpac">validar</button>

           </form>
            
          </div>
         </div>                     
      </div>             
      <hr>  

      <table id="tabla" class="display nowrap" style="width:100%" class="table table-bordered"       
      data-toggle="table"     
      data-locale="es-MX">
        <thead>  
        <tr>
          <th>Fecha Reg</th>
          <th>Doc</th>
          <th>Identificacion</th>
          <th>Nombre 1</th>
          <th>Nombre 2</th>
          <th>Apellido 1</th>
          <th>Apellido 2</th>         
          <th>Fec. Nac</th>    
          <th>Eps</th>           
         </tr>      
        </thead>  
        <tbody>
          {% if obj %}
            {% for item in obj %}
              <tr>
                <td>{{ item.fechaafiliacion |date:"d/m/Y" }}</td>
                <td>{{ item.tipodoc.codigo }}</td>
                <td>{{ item.identificacion }}</td>
                <td>{{ item.nombre1 }}</td>
                <td>{{ item.nombre2 }}</td>
                <td>{{ item.apellido1 }}</td>
                <td>{{ item.apellido2 }}</td>                                
                <td>{{ item.fechanac|date:"d/m/Y" }}</td>
                <td>{{ item.eps}}</td>                
              </tr>
            {% endfor %}
          {% endif %}
                     
        </tbody>

     </table>
   </div>
  </div>

{% endblock page_content %}

{% block js_page %}
 <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.0.0/js/dataTables.buttons.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.0.0/js/buttons.html5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.66/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.66/vfs_fonts.js"></script>
    <script>
        $(document).ready(function() {
            $('#tabla').DataTable({
                dom: 'Bfrtip',
                buttons: [
                    'excelHtml5',
                    'pdfHtml5'
                ],
                language: {
        "decimal": "",
        "emptyTable": "No hay información",
        "info": "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ Registros",
        "infoEmpty": "Mostrando registros del 0 al 0 de un total de 0 Registros",
        "infoFiltered": "(Filtrado de _MAX_ total entradas)",
        "infoPostFix": "",
        "thousands": ",",
        "lengthMenu": "Mostrar _MENU_ Registros",
        "loadingRecords": "Cargando...",
        "processing": "Procesando...",
        "search": "Buscar:",
        "zeroRecords": "No se encontraron resultados",
        "paginate": {
            "first": "<span class='fa fa-angle-double-left'></span>",
            "last": "<span class='fa fa-angle-double-right'></span>",
            "next": "<span class='fa fa-angle-right'></span>",
            "previous": "<span class='fa fa-angle-left'></span>"
        }
        
      },
            });
        });
    </script>
  
{% endblock %}
